using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace AdventOfCode
{
    internal class Day09
    {
        public static void Main()
        {
            Console.Write("Part ? ");
            string choice = Console.ReadLine();
            if (choice == "1")
            {
                Part1();
            }
            else if (choice == "2")
            {
                Part2();
            }
            else
            {
                Console.WriteLine("Not possible..");
                Main();
            }
        }
        public static void Part1()
        {
            string[] instructions = { "L2", "U2", "L1", "D1", "U1", "L2", "R2", "D1", "U2", "D1", "R2", "U1", "L2", "D2", "L2", "R2", "L2", "R1", "L2", "D1", "U1", "L2", "U1", "D1", "R2", "L1", "R1", "L2", "U2", "D2", "U1", "D2", "R1", "D1", "R2", "L2", "D1", "L1", "U2", "R2", "L2", "U2", "D1", "U2", "D2", "R1", "U2", "L2", "D2", "U2", "D2", "L2", "R1", "L2", "D2", "U1", "R2", "U2", "L1", "D2", "R2", "L2", "R1", "L2", "D1", "R2", "L2", "R1", "L2", "D1", "U1", "L1", "D1", "R2", "D1", "L1", "D1", "R1", "D1", "U2", "R1", "L1", "U2", "L2", "D2", "L1", "U1", "D1", "L1", "U1", "D1", "U1", "R2", "L2", "U2", "R2", "L2", "D2", "U1", "L1", "R1", "U2", "R1", "D2", "R1", "L2", "R2", "U2", "D2", "R1", "U2", "L2", "R1", "L2", "D3", "L3", "D3", "L3", "U3", "D2", "R2", "D3", "L1", "R2", "D2", "R2", "D3", "U3", "D1", "R2", "D3", "L1", "D1", "L1", "D3", "R2", "U2", "D3", "R2", "U2", "D2", "L2", "U1", "R3", "U2", "D3", "U1", "R2", "D2", "U2", "D1", "R2", "D2", "R3", "L1", "R1", "L1", "D2", "U3", "R2", "U2", "L1", "R1", "U3", "L3", "D2", "R2", "L1", "U2", "R3", "D3", "U2", "D3", "R2", "U2", "D2", "L1", "D3", "U1", "L2", "R2", "L2", "R1", "L1", "R3", "L2", "U1", "D2", "U2", "L2", "U2", "L3", "U2", "D3", "U1", "L3", "D3", "U2", "D2", "L1", "U2", "D2", "L3", "D3", "R2", "L1", "U3", "L3", "D2", "L2", "R2", "D1", "L2", "D1", "R2", "L1", "U3", "R2", "L3", "R1", "L1", "R3", "L2", "R2", "U2", "D4", "L3", "U3", "L4", "U2", "L2", "U3", "R2", "U4", "R1", "U3", "R1", "U4", "L3", "R4", "L4", "U3", "D1", "R2", "D4", "U1", "D3", "R2", "U2", "R1", "L4", "R2", "L3", "U4", "D4", "R4", "U1", "R2", "D3", "U1", "L1", "U3", "L1", "R1", "U2", "R4", "D2", "U1", "D3", "U4", "L1", "U1", "R2", "U4", "L1", "R2", "L1", "D4", "L3", "R1", "L2", "R1", "U3", "R3", "D2", "R2", "L2", "D1", "U4", "R2", "U2", "L1", "R2", "U3", "L2", "D3", "U2", "D3", "U4", "D2", "R3", "U1", "D2", "R1", "D2", "R3", "L1", "D4", "R4", "D4", "R2", "D3", "U1", "R2", "U1", "L4", "D2", "L2", "D4", "L1", "U4", "D3", "L3", "U2", "L2", "D1", "L4", "R4", "D2", "R3", "L1", "U3", "L3", "D5", "U5", "D5", "U1", "D1", "R1", "U2", "L2", "U3", "L5", "D4", "R2", "U2", "L4", "U3", "L2", "U3", "R2", "D3", "R4", "D5", "R1", "D3", "R2", "U2", "R3", "U5", "R2", "D1", "R5", "L1", "D5", "L5", "U2", "D4", "R1", "L3", "R2", "U2", "R1", "U5", "R5", "D2", "U1", "R4", "L4", "D5", "U1", "D1", "L4", "D3", "L3", "D5", "R3", "U3", "L2", "R5", "U5", "R3", "D2", "L2", "D3", "R1", "U5", "L1", "D5", "R2", "L5", "R4", "L3", "D2", "U1", "L4", "U5", "L3", "R1", "U3", "R3", "U5", "L5", "U5", "R5", "L1", "R4", "L2", "D3", "U3", "L1", "U5", "D3", "U4", "L5", "U3", "L3", "D1", "U3", "L4", "D2", "R3", "L3", "D4", "L1", "D4", "U3", "D4", "L5", "R2", "L2", "R4", "L1", "U1", "D1", "U1", "R5", "U1", "R2", "D3", "L4", "D1", "R3", "U3", "D6", "U1", "R3", "D1", "L5", "D3", "R3", "L2", "D5", "R3", "D3", "U5", "D6", "U2", "R2", "U3", "R1", "U6", "L1", "R1", "L5", "R2", "U6", "D3", "R3", "D5", "U1", "L4", "D4", "L1", "R4", "D5", "L3", "R5", "U6", "D4", "U4", "D5", "R1", "U1", "L6", "R3", "D1", "L2", "D1", "L1", "U5", "L4", "R1", "L3", "U6", "L1", "D3", "L6", "D6", "R2", "U5", "D3", "U6", "R5", "L2", "U1", "R3", "L5", "R2", "L6", "R1", "U1", "R1", "D3", "R1", "D1", "L4", "D2", "R3", "U2", "L6", "U5", "R3", "D4", "R4", "D6", "R1", "D5", "L5", "R1", "D1", "L3", "D6", "R3", "U4", "D6", "R2", "L6", "D2", "L1", "D6", "L3", "R2", "U3", "L4", "R6", "U6", "R1", "U6", "D5", "U1", "L6", "R6", "D1", "R5", "L1", "D5", "R6", "U1", "L5", "D3", "R6", "U1", "L3", "U1", "R4", "D1", "R2", "D7", "U5", "D2", "U6", "D3", "U1", "D3", "R4", "D6", "R3", "L1", "U1", "L2", "R4", "U3", "L3", "R1", "D7", "L4", "D2", "R3", "L2", "U2", "L1", "D5", "U4", "L4", "D7", "U4", "D5", "L7", "U6", "L1", "U1", "L1", "R6", "U1", "D5", "R2", "D4", "R3", "D2", "R2", "L5", "U5", "R7", "D6", "R1", "D5", "R1", "L7", "D7", "L6", "D6", "U4", "R3", "U2", "R6", "D4", "R6", "D3", "L5", "U7", "D2", "R5", "D5", "L1", "R1", "D6", "L3", "R3", "L1", "R2", "D5", "R2", "D1", "L6", "D1", "U7", "R6", "D4", "U2", "R5", "L7", "R7", "D3", "L2", "R7", "D1", "R8", "D2", "R3", "L2", "R8", "U7", "L8", "D3", "U6", "D3", "R8", "U4", "L3", "R4", "D5", "U6", "R8", "D5", "U4", "L5", "D2", "U8", "D6", "U4", "L1", "R2", "D4", "U3", "L1", "U6", "R6", "U3", "L7", "U6", "R3", "U5", "R6", "D8", "R6", "U1", "R8", "L5", "R5", "L3", "R5", "L7", "R3", "D6", "R1", "D4", "R5", "U6", "R4", "D3", "R4", "D7", "R5", "U5", "D2", "R6", "U3", "L1", "U4", "R7", "U5", "D2", "R3", "L1", "U2", "R1", "D7", "L4", "R4", "D2", "U8", "D2", "L4", "D7", "R6", "U8", "R7", "D1", "U4", "L8", "D8", "R5", "D2", "L5", "D1", "L1", "U4", "D4", "L7", "D3", "L8", "D1", "R1", "L2", "U7", "R8", "D3", "R7", "D1", "R2", "U8", "R8", "U2", "D6", "U7", "R1", "U8", "R5", "D3", "R4", "L2", "D1", "L6", "D8", "R1", "L4", "U5", "L7", "D5", "U4", "L4", "R9", "L9", "U7", "L3", "R4", "U2", "R5", "D1", "L5", "R7", "D7", "L6", "U2", "L6", "R5", "D2", "U6", "R3", "U7", "D8", "U3", "L3", "U5", "D5", "U1", "D6", "R4", "U3", "R4", "U1", "D3", "R2", "L8", "D6", "L3", "U7", "D2", "R9", "D4", "L5", "R4", "L8", "D7", "R2", "D3", "U5", "D6", "R1", "L1", "D5", "L6", "U4", "D2", "R5", "U2", "R4", "U5", "D7", "R8", "D2", "R6", "D4", "R6", "L8", "U4", "L3", "U4", "L3", "R6", "D4", "L5", "D1", "U8", "L8", "U2", "L9", "R6", "L1", "D5", "L5", "R4", "D3", "R4", "L8", "R9", "D2", "R8", "D6", "L4", "D2", "U3", "R9", "L7", "D9", "R8", "U3", "L10", "D10", "L7", "R8", "L7", "D7", "L7", "D6", "R1", "U10", "R7", "U10", "L1", "D7", "L2", "D1", "U10", "D5", "L1", "U9", "L10", "U6", "L4", "U10", "R7", "L10", "U8", "D6", "L4", "D9", "L7", "R5", "D3", "L2", "R9", "U4", "D2", "L6", "R4", "L3", "R1", "L2", "U8", "L7", "U4", "D8", "R9", "L4", "R1", "U6", "L5", "R10", "D10", "U2", "R8", "U1", "R4", "D10", "R2", "L2", "D3", "U8", "L7", "D9", "L8", "D7", "R9", "L6", "U8", "D7", "U6", "D5", "R3", "L7", "U4", "R7", "D9", "R9", "D5", "L6", "U2", "R7", "U7", "D3", "R10", "L10", "R1", "D10", "U2", "R3", "U2", "L4", "R5", "L1", "U6", "R1", "U6", "R10", "L2", "D8", "U3", "L8", "U4", "L8", "U10", "D7", "R4", "U10", "L3", "D7", "L1", "R5", "L1", "U5", "L1", "D1", "R7", "D3", "L3", "R2", "U7", "L11", "R5", "D8", "R1", "U3", "R1", "L11", "R4", "U1", "D9", "R7", "D8", "R11", "D3", "U1", "L7", "R5", "L5", "R1", "D4", "R6", "D8", "R3", "L10", "R10", "D4", "L7", "R7", "L9", "D11", "L1", "D1", "L10", "U6", "L8", "R11", "D10", "L4", "U5", "D8", "R8", "L3", "U4", "R4", "U7", "R7", "D8", "U6", "R11", "L8", "D10", "R7", "D8", "L11", "U3", "D7", "U2", "R5", "L6", "U10", "R4", "L9", "U7", "D7", "R7", "D6", "R10", "U4", "L3", "D4", "R8", "L4", "R3", "U2", "R4", "U2", "L6", "D5", "R3", "D1", "U4", "L6", "U10", "D9", "L6", "U4", "R3", "L2", "D4", "R1", "L3", "R4", "L2", "R7", "L6", "R7", "U8", "D6", "U2", "L11", "R9", "L10", "R6", "D4", "R7", "L6", "D2", "L10", "D3", "L2", "D9", "L2", "R10", "L8", "U2", "L9", "D12", "U3", "R7", "U6", "L1", "R6", "D9", "U1", "R9", "U5", "L5", "R12", "L5", "U4", "R1", "D1", "R7", "L1", "R1", "D3", "U5", "R9", "D6", "L12", "R2", "U4", "R2", "U2", "R11", "U2", "D3", "U2", "L11", "D11", "R1", "D10", "L5", "D11", "R4", "D4", "R12", "U11", "R2", "U1", "D11", "L3", "D3", "R5", "D6", "R9", "U10", "L9", "D4", "U8", "D5", "R5", "U1", "R2", "U12", "L2", "R9", "D5", "U11", "D8", "R8", "L10", "D10", "U9", "L5", "U2", "R4", "D4", "U11", "R2", "U8", "R5", "U3", "D12", "L10", "U11", "D12", "R3", "L6", "R5", "U6", "R9", "U7", "R9", "D6", "L3", "U3", "L5", "D1", "L9", "U9", "R2", "D9", "R5", "U9", "R7", "D5", "R10", "D7", "U4", "L1", "D6", "U10", "L12", "R7", "U9", "L1", "D5", "U8", "D3", "L6", "D7", "R7", "L13", "D4", "R3", "D8", "L10", "R11", "D2", "R8", "D7", "R8", "L13", "D3", "L2", "D4", "L2", "U5", "R6", "U9", "R7", "L3", "R13", "L11", "R1", "D13", "L10", "D6", "R2", "L12", "D8", "U12", "D5", "R3", "U5", "D6", "U4", "D6", "U7", "D12", "R6", "L1", "U3", "R10", "U7", "L12", "R11", "D1", "L9", "U12", "L5", "D6", "U7", "D11", "L9", "D13", "L7", "D13", "U5", "R9", "U8", "R9", "D9", "L9", "R3", "D11", "U7", "L9", "U6", "L11", "U2", "R6", "U6", "R12", "U1", "L3", "U5", "R9", "U11", "R13", "U11", "D13", "R7", "U11", "L9", "D10", "U1", "L12", "R13", "D3", "U4", "L11", "U3", "D2", "R10", "U9", "D4", "L14", "R2", "D2", "U13", "D3", "U10", "L7", "U6", "D13", "U9", "R1", "D1", "R1", "D5", "L2", "D7", "U10", "R1", "D8", "L13", "R2", "U10", "L6", "D8", "R7", "U9", "D4", "U7", "D6", "R12", "U1", "D13", "U4", "L13", "D7", "R5", "U10", "D12", "U5", "L1", "U12", "D4", "U3", "R3", "D9", "L5", "R2", "D3", "U6", "R14", "L2", "R3", "U11", "R9", "L13", "D1", "U8", "D2", "R12", "D5", "L6", "U14", "R1", "D2", "L6", "R7", "L8", "D6", "U7", "L2", "R2", "D5", "R6", "U1", "D8", "L12", "D7", "L6", "D8", "L4", "U4", "D13", "R11", "D1", "R9", "L6", "D8", "L12", "U11", "D11", "U4", "D12", "R4", "L14", "U6", "D3", "R8", "D7", "L12", "U12", "R10", "U2", "R6", "L1", "R11", "U2", "L4", "U12", "R5", "U8", "L15", "R5", "U4", "R9", "D8", "U15", "D10", "R10", "L9", "R12", "L8", "D14", "R2", "D11", "L14", "D8", "L1", "D15", "U4", "L4", "D9", "R4", "D10", "L1", "U7", "D13", "R15", "U12", "R11", "D12", "R2", "L7", "D15", "L1", "U4", "D14", "L7", "D1", "R9", "U1", "L3", "D2", "L5", "D13", "R3", "L12", "U5", "L13", "U5", "L2", "D9", "L1", "D10", "L14", "D14", "U5", "D14", "U5", "D4", "R12", "U10", "R14", "D1", "L1", "U8", "D7", "L13", "R5", "L7", "D5", "L3", "U15", "R8", "L9", "D14", "R14", "L12", "D7", "L15", "D14", "U12", "L7", "R11", "L10", "D8", "L7", "R14", "L11", "U1", "R9", "U13", "R14", "D6", "U1", "L4", "R12", "L2", "U12", "L12", "D13", "U13", "R12", "U5", "R9", "U4", "D13", "L7", "D4", "U16", "D11", "U16", "R12", "U10", "R14", "L1", "U12", "R4", "U7", "R10", "D14", "R9", "D9", "L8", "R11", "L7", "U5", "R15", "U1", "D12", "U5", "D11", "U5", "D11", "L13", "R6", "D10", "U1", "L5", "U11", "L4", "U14", "L15", "R14", "L4", "D13", "L11", "D1", "U12", "D2", "L13", "D10", "L8", "U15", "R3", "U5", "R13", "L11", "U12", "L14", "R10", "D15", "R2", "U6", "D15", "U11", "D9", "U10", "R16", "U16", "D6", "R2", "L4", "D15", "L8", "U8", "L14", "D8", "U4", "R2", "D4", "U11", "R9", "L15", "U5", "L15", "D12", "R9", "U3", "R7", "D14", "U6", "R11", "L16", "D5", "R15", "D6", "U5", "L13", "U5", "R4", "U11", "R13", "D7", "R7", "U12", "R13", "U1", "L5", "D6", "R8", "U14", "R6", "D16", "R8", "D6", "R5", "U6", "D2", "U4", "R5", "D17", "L3", "D1", "R9", "U6", "R13", "L3", "D15", "L9", "D4", "R6", "D13", "U11", "D2", "U10", "L11", "D4", "U17", "R12", "D12", "R7", "D10", "U7", "R3", "L5", "D5", "R3", "D3", "U6", "D6", "U17", "L16", "D3", "R14", "D5", "U12", "L13", "U7", "D5", "R17", "L7", "D12", "U9", "D15", "L2", "R13", "L14", "D1", "L3", "U17", "R9", "U4", "L14", "R8", "D15", "L11", "U15", "L9", "U4", "L10", "U13", "D12", "U9", "L8", "R12", "U5", "D13", "U10", "R13", "U1", "L14", "D10", "U10", "R3", "D7", "R5", "D10", "R6", "U1", "D1", "R3", "L16", "D4", "U13", "D17", "L5", "R14", "U3", "R12", "U5", "D2", "U9", "R11", "D13", "L6", "U3", "R17", "L11", "R17", "L13", "U2", "R17", "U9", "L3", "R16", "D1", "U13", "D3", "R7", "L9", "R16", "D17", "L3", "U3", "R7", "L15", "U3", "R6", "L11", "R11", "D2", "U1", "L4", "D6", "L15", "R9", "D14", "U1", "L1", "U10", "L18", "D4", "R12", "L14", "R11", "D14", "L15", "U17", "L6", "U11", "D14", "U1", "L9", "D8", "U6", "L18", "R2", "D4", "L1", "D13", "L17", "U6", "L18", "U16", "R1", "U8", "R8", "L17", "D13", "U18", "R5", "U6", "R14", "D4", "U16", "L18", "U6", "R18", "L3", "U12", "R2", "D9", "U6", "R11", "L2", "D11", "U11", "D16", "L17", "U18", "D7", "R12", "D2", "L9", "R4", "L3", "R3", "U17", "L15", "R12", "U16", "L12", "U2", "L8", "D3", "L10", "U11", "L2", "D18", "R1", "D2", "R5", "D9", "L15", "D8", "L18", "D7", "L16", "R2", "U17", "L14", "R11", "D2", "U12", "L5", "D6", "R17", "L7", "U10", "R1", "L17", "R12", "U2", "D4", "U13", "D11", "U16", "L4", "R10", "U3", "R14", "U16", "L15", "U10", "L12", "U19", "L19", "R15", "L3", "U6", "R19", "L14", "R4", "L6", "R5", "L17", "U15", "L6", "D11", "U7", "L2", "R8", "U8", "R16", "L4", "U19", "D9", "L15", "D15", "L16", "D15", "L9", "R5", "L10", "U4", "R15", "U1", "D4", "U18", "R18", "L1", "U18", "R8", "L11", "R12", "U3", "R16", "D17", "R2", "L18", "D9", "R5", "U13", "R12", "U5", "R6", "U18", "R5", "D1", "L8", "D6", "L16", "D19", "L16", "R10", "L9", "U17", "D19", "R6", "D15", "R4", "U19", "D16", "R13", "U5", "R10", "U16", "D4", "U19", "R17", "L11", "U4", "L1", "U9", "R16", "L6", "U12", "D9", "L9", "R3", "U15", "R18", "D4", "U19", "R8", "L3", "U5", "D18", "R18", "D17", "L18", "R15", "U12" };
            int[,] tailGrid = new int[10000, 10000];
            int rowPosHead = 4999;
            int colPosHead = 4999;
            int rowPosTail = 4999;
            int colPosTail = 4999;

            int totalUniqeTailPos = 0;


            for (int k = 0; k < instructions.Length; k++)
            {
                char headDirection = instructions[k][0];
                int steps = Convert.ToInt32(instructions[k].Substring(1));


                for (int i = 0; i < steps; i++)
                {

                    switch (headDirection)
                    {
                        case 'U':
                            rowPosHead--;
                            break;
                        case 'R':
                            colPosHead++;
                            break;
                        case 'D':
                            rowPosHead++;
                            break;
                        case 'L':
                            colPosHead--;
                            break;
                    }

                    if (rowPosHead == rowPosTail || colPosHead == colPosTail)
                    {
                        if (colPosHead < colPosTail - 1)
                        {
                            colPosTail--;
                        }
                        else if (colPosHead > colPosTail + 1)
                        {
                            colPosTail++;
                        }
                        else if (rowPosHead < rowPosTail - 1)
                        {
                            rowPosTail--;
                        }
                        else if (rowPosHead > rowPosTail + 1)
                        {
                            rowPosTail++;
                        }
                    }
                    else
                    {
                        if (rowPosHead < rowPosTail - 1)
                        {
                            rowPosTail--;
                            if (colPosHead < colPosTail)
                            {
                                colPosTail--;
                            }
                            else
                            {
                                colPosTail++;
                            }
                        }
                        else if (rowPosHead > rowPosTail + 1)
                        {
                            rowPosTail++;
                            if (colPosHead < colPosTail)
                            {
                                colPosTail--;
                            }
                            else
                            {
                                colPosTail++;
                            }
                        }
                        else if (colPosHead < colPosTail - 1)
                        {
                            colPosTail--;
                            if (rowPosHead < rowPosTail)
                            {
                                rowPosTail--;
                            }
                            else
                            {
                                rowPosTail++;
                            }
                        }
                        else if (colPosHead > colPosTail + 1)
                        {
                            colPosTail++;
                            if (rowPosHead < rowPosTail)
                            {
                                rowPosTail--;
                            }
                            else
                            {
                                rowPosTail++;
                            }
                        }
                    }
                    tailGrid[rowPosTail, colPosTail] = 1;
                }
            }
            for (int row = 0; row < tailGrid.GetLength(0); row++)
            {
                for (int col = 0; col < tailGrid.GetLength(1); col++)
                {
                    if (tailGrid[row, col] == 1)
                    {
                        totalUniqeTailPos++;
                    }
                }
            }

            Console.WriteLine(totalUniqeTailPos);
            // 6796 is to high
            // 1640 is to low
            // 1641 is to low
            // not 6264
            // not 6265
            // its 6197
        }
        public static void Part2()
        {
            string[] instructions = { "L2", "U2", "L1", "D1", "U1", "L2", "R2", "D1", "U2", "D1", "R2", "U1", "L2", "D2", "L2", "R2", "L2", "R1", "L2", "D1", "U1", "L2", "U1", "D1", "R2", "L1", "R1", "L2", "U2", "D2", "U1", "D2", "R1", "D1", "R2", "L2", "D1", "L1", "U2", "R2", "L2", "U2", "D1", "U2", "D2", "R1", "U2", "L2", "D2", "U2", "D2", "L2", "R1", "L2", "D2", "U1", "R2", "U2", "L1", "D2", "R2", "L2", "R1", "L2", "D1", "R2", "L2", "R1", "L2", "D1", "U1", "L1", "D1", "R2", "D1", "L1", "D1", "R1", "D1", "U2", "R1", "L1", "U2", "L2", "D2", "L1", "U1", "D1", "L1", "U1", "D1", "U1", "R2", "L2", "U2", "R2", "L2", "D2", "U1", "L1", "R1", "U2", "R1", "D2", "R1", "L2", "R2", "U2", "D2", "R1", "U2", "L2", "R1", "L2", "D3", "L3", "D3", "L3", "U3", "D2", "R2", "D3", "L1", "R2", "D2", "R2", "D3", "U3", "D1", "R2", "D3", "L1", "D1", "L1", "D3", "R2", "U2", "D3", "R2", "U2", "D2", "L2", "U1", "R3", "U2", "D3", "U1", "R2", "D2", "U2", "D1", "R2", "D2", "R3", "L1", "R1", "L1", "D2", "U3", "R2", "U2", "L1", "R1", "U3", "L3", "D2", "R2", "L1", "U2", "R3", "D3", "U2", "D3", "R2", "U2", "D2", "L1", "D3", "U1", "L2", "R2", "L2", "R1", "L1", "R3", "L2", "U1", "D2", "U2", "L2", "U2", "L3", "U2", "D3", "U1", "L3", "D3", "U2", "D2", "L1", "U2", "D2", "L3", "D3", "R2", "L1", "U3", "L3", "D2", "L2", "R2", "D1", "L2", "D1", "R2", "L1", "U3", "R2", "L3", "R1", "L1", "R3", "L2", "R2", "U2", "D4", "L3", "U3", "L4", "U2", "L2", "U3", "R2", "U4", "R1", "U3", "R1", "U4", "L3", "R4", "L4", "U3", "D1", "R2", "D4", "U1", "D3", "R2", "U2", "R1", "L4", "R2", "L3", "U4", "D4", "R4", "U1", "R2", "D3", "U1", "L1", "U3", "L1", "R1", "U2", "R4", "D2", "U1", "D3", "U4", "L1", "U1", "R2", "U4", "L1", "R2", "L1", "D4", "L3", "R1", "L2", "R1", "U3", "R3", "D2", "R2", "L2", "D1", "U4", "R2", "U2", "L1", "R2", "U3", "L2", "D3", "U2", "D3", "U4", "D2", "R3", "U1", "D2", "R1", "D2", "R3", "L1", "D4", "R4", "D4", "R2", "D3", "U1", "R2", "U1", "L4", "D2", "L2", "D4", "L1", "U4", "D3", "L3", "U2", "L2", "D1", "L4", "R4", "D2", "R3", "L1", "U3", "L3", "D5", "U5", "D5", "U1", "D1", "R1", "U2", "L2", "U3", "L5", "D4", "R2", "U2", "L4", "U3", "L2", "U3", "R2", "D3", "R4", "D5", "R1", "D3", "R2", "U2", "R3", "U5", "R2", "D1", "R5", "L1", "D5", "L5", "U2", "D4", "R1", "L3", "R2", "U2", "R1", "U5", "R5", "D2", "U1", "R4", "L4", "D5", "U1", "D1", "L4", "D3", "L3", "D5", "R3", "U3", "L2", "R5", "U5", "R3", "D2", "L2", "D3", "R1", "U5", "L1", "D5", "R2", "L5", "R4", "L3", "D2", "U1", "L4", "U5", "L3", "R1", "U3", "R3", "U5", "L5", "U5", "R5", "L1", "R4", "L2", "D3", "U3", "L1", "U5", "D3", "U4", "L5", "U3", "L3", "D1", "U3", "L4", "D2", "R3", "L3", "D4", "L1", "D4", "U3", "D4", "L5", "R2", "L2", "R4", "L1", "U1", "D1", "U1", "R5", "U1", "R2", "D3", "L4", "D1", "R3", "U3", "D6", "U1", "R3", "D1", "L5", "D3", "R3", "L2", "D5", "R3", "D3", "U5", "D6", "U2", "R2", "U3", "R1", "U6", "L1", "R1", "L5", "R2", "U6", "D3", "R3", "D5", "U1", "L4", "D4", "L1", "R4", "D5", "L3", "R5", "U6", "D4", "U4", "D5", "R1", "U1", "L6", "R3", "D1", "L2", "D1", "L1", "U5", "L4", "R1", "L3", "U6", "L1", "D3", "L6", "D6", "R2", "U5", "D3", "U6", "R5", "L2", "U1", "R3", "L5", "R2", "L6", "R1", "U1", "R1", "D3", "R1", "D1", "L4", "D2", "R3", "U2", "L6", "U5", "R3", "D4", "R4", "D6", "R1", "D5", "L5", "R1", "D1", "L3", "D6", "R3", "U4", "D6", "R2", "L6", "D2", "L1", "D6", "L3", "R2", "U3", "L4", "R6", "U6", "R1", "U6", "D5", "U1", "L6", "R6", "D1", "R5", "L1", "D5", "R6", "U1", "L5", "D3", "R6", "U1", "L3", "U1", "R4", "D1", "R2", "D7", "U5", "D2", "U6", "D3", "U1", "D3", "R4", "D6", "R3", "L1", "U1", "L2", "R4", "U3", "L3", "R1", "D7", "L4", "D2", "R3", "L2", "U2", "L1", "D5", "U4", "L4", "D7", "U4", "D5", "L7", "U6", "L1", "U1", "L1", "R6", "U1", "D5", "R2", "D4", "R3", "D2", "R2", "L5", "U5", "R7", "D6", "R1", "D5", "R1", "L7", "D7", "L6", "D6", "U4", "R3", "U2", "R6", "D4", "R6", "D3", "L5", "U7", "D2", "R5", "D5", "L1", "R1", "D6", "L3", "R3", "L1", "R2", "D5", "R2", "D1", "L6", "D1", "U7", "R6", "D4", "U2", "R5", "L7", "R7", "D3", "L2", "R7", "D1", "R8", "D2", "R3", "L2", "R8", "U7", "L8", "D3", "U6", "D3", "R8", "U4", "L3", "R4", "D5", "U6", "R8", "D5", "U4", "L5", "D2", "U8", "D6", "U4", "L1", "R2", "D4", "U3", "L1", "U6", "R6", "U3", "L7", "U6", "R3", "U5", "R6", "D8", "R6", "U1", "R8", "L5", "R5", "L3", "R5", "L7", "R3", "D6", "R1", "D4", "R5", "U6", "R4", "D3", "R4", "D7", "R5", "U5", "D2", "R6", "U3", "L1", "U4", "R7", "U5", "D2", "R3", "L1", "U2", "R1", "D7", "L4", "R4", "D2", "U8", "D2", "L4", "D7", "R6", "U8", "R7", "D1", "U4", "L8", "D8", "R5", "D2", "L5", "D1", "L1", "U4", "D4", "L7", "D3", "L8", "D1", "R1", "L2", "U7", "R8", "D3", "R7", "D1", "R2", "U8", "R8", "U2", "D6", "U7", "R1", "U8", "R5", "D3", "R4", "L2", "D1", "L6", "D8", "R1", "L4", "U5", "L7", "D5", "U4", "L4", "R9", "L9", "U7", "L3", "R4", "U2", "R5", "D1", "L5", "R7", "D7", "L6", "U2", "L6", "R5", "D2", "U6", "R3", "U7", "D8", "U3", "L3", "U5", "D5", "U1", "D6", "R4", "U3", "R4", "U1", "D3", "R2", "L8", "D6", "L3", "U7", "D2", "R9", "D4", "L5", "R4", "L8", "D7", "R2", "D3", "U5", "D6", "R1", "L1", "D5", "L6", "U4", "D2", "R5", "U2", "R4", "U5", "D7", "R8", "D2", "R6", "D4", "R6", "L8", "U4", "L3", "U4", "L3", "R6", "D4", "L5", "D1", "U8", "L8", "U2", "L9", "R6", "L1", "D5", "L5", "R4", "D3", "R4", "L8", "R9", "D2", "R8", "D6", "L4", "D2", "U3", "R9", "L7", "D9", "R8", "U3", "L10", "D10", "L7", "R8", "L7", "D7", "L7", "D6", "R1", "U10", "R7", "U10", "L1", "D7", "L2", "D1", "U10", "D5", "L1", "U9", "L10", "U6", "L4", "U10", "R7", "L10", "U8", "D6", "L4", "D9", "L7", "R5", "D3", "L2", "R9", "U4", "D2", "L6", "R4", "L3", "R1", "L2", "U8", "L7", "U4", "D8", "R9", "L4", "R1", "U6", "L5", "R10", "D10", "U2", "R8", "U1", "R4", "D10", "R2", "L2", "D3", "U8", "L7", "D9", "L8", "D7", "R9", "L6", "U8", "D7", "U6", "D5", "R3", "L7", "U4", "R7", "D9", "R9", "D5", "L6", "U2", "R7", "U7", "D3", "R10", "L10", "R1", "D10", "U2", "R3", "U2", "L4", "R5", "L1", "U6", "R1", "U6", "R10", "L2", "D8", "U3", "L8", "U4", "L8", "U10", "D7", "R4", "U10", "L3", "D7", "L1", "R5", "L1", "U5", "L1", "D1", "R7", "D3", "L3", "R2", "U7", "L11", "R5", "D8", "R1", "U3", "R1", "L11", "R4", "U1", "D9", "R7", "D8", "R11", "D3", "U1", "L7", "R5", "L5", "R1", "D4", "R6", "D8", "R3", "L10", "R10", "D4", "L7", "R7", "L9", "D11", "L1", "D1", "L10", "U6", "L8", "R11", "D10", "L4", "U5", "D8", "R8", "L3", "U4", "R4", "U7", "R7", "D8", "U6", "R11", "L8", "D10", "R7", "D8", "L11", "U3", "D7", "U2", "R5", "L6", "U10", "R4", "L9", "U7", "D7", "R7", "D6", "R10", "U4", "L3", "D4", "R8", "L4", "R3", "U2", "R4", "U2", "L6", "D5", "R3", "D1", "U4", "L6", "U10", "D9", "L6", "U4", "R3", "L2", "D4", "R1", "L3", "R4", "L2", "R7", "L6", "R7", "U8", "D6", "U2", "L11", "R9", "L10", "R6", "D4", "R7", "L6", "D2", "L10", "D3", "L2", "D9", "L2", "R10", "L8", "U2", "L9", "D12", "U3", "R7", "U6", "L1", "R6", "D9", "U1", "R9", "U5", "L5", "R12", "L5", "U4", "R1", "D1", "R7", "L1", "R1", "D3", "U5", "R9", "D6", "L12", "R2", "U4", "R2", "U2", "R11", "U2", "D3", "U2", "L11", "D11", "R1", "D10", "L5", "D11", "R4", "D4", "R12", "U11", "R2", "U1", "D11", "L3", "D3", "R5", "D6", "R9", "U10", "L9", "D4", "U8", "D5", "R5", "U1", "R2", "U12", "L2", "R9", "D5", "U11", "D8", "R8", "L10", "D10", "U9", "L5", "U2", "R4", "D4", "U11", "R2", "U8", "R5", "U3", "D12", "L10", "U11", "D12", "R3", "L6", "R5", "U6", "R9", "U7", "R9", "D6", "L3", "U3", "L5", "D1", "L9", "U9", "R2", "D9", "R5", "U9", "R7", "D5", "R10", "D7", "U4", "L1", "D6", "U10", "L12", "R7", "U9", "L1", "D5", "U8", "D3", "L6", "D7", "R7", "L13", "D4", "R3", "D8", "L10", "R11", "D2", "R8", "D7", "R8", "L13", "D3", "L2", "D4", "L2", "U5", "R6", "U9", "R7", "L3", "R13", "L11", "R1", "D13", "L10", "D6", "R2", "L12", "D8", "U12", "D5", "R3", "U5", "D6", "U4", "D6", "U7", "D12", "R6", "L1", "U3", "R10", "U7", "L12", "R11", "D1", "L9", "U12", "L5", "D6", "U7", "D11", "L9", "D13", "L7", "D13", "U5", "R9", "U8", "R9", "D9", "L9", "R3", "D11", "U7", "L9", "U6", "L11", "U2", "R6", "U6", "R12", "U1", "L3", "U5", "R9", "U11", "R13", "U11", "D13", "R7", "U11", "L9", "D10", "U1", "L12", "R13", "D3", "U4", "L11", "U3", "D2", "R10", "U9", "D4", "L14", "R2", "D2", "U13", "D3", "U10", "L7", "U6", "D13", "U9", "R1", "D1", "R1", "D5", "L2", "D7", "U10", "R1", "D8", "L13", "R2", "U10", "L6", "D8", "R7", "U9", "D4", "U7", "D6", "R12", "U1", "D13", "U4", "L13", "D7", "R5", "U10", "D12", "U5", "L1", "U12", "D4", "U3", "R3", "D9", "L5", "R2", "D3", "U6", "R14", "L2", "R3", "U11", "R9", "L13", "D1", "U8", "D2", "R12", "D5", "L6", "U14", "R1", "D2", "L6", "R7", "L8", "D6", "U7", "L2", "R2", "D5", "R6", "U1", "D8", "L12", "D7", "L6", "D8", "L4", "U4", "D13", "R11", "D1", "R9", "L6", "D8", "L12", "U11", "D11", "U4", "D12", "R4", "L14", "U6", "D3", "R8", "D7", "L12", "U12", "R10", "U2", "R6", "L1", "R11", "U2", "L4", "U12", "R5", "U8", "L15", "R5", "U4", "R9", "D8", "U15", "D10", "R10", "L9", "R12", "L8", "D14", "R2", "D11", "L14", "D8", "L1", "D15", "U4", "L4", "D9", "R4", "D10", "L1", "U7", "D13", "R15", "U12", "R11", "D12", "R2", "L7", "D15", "L1", "U4", "D14", "L7", "D1", "R9", "U1", "L3", "D2", "L5", "D13", "R3", "L12", "U5", "L13", "U5", "L2", "D9", "L1", "D10", "L14", "D14", "U5", "D14", "U5", "D4", "R12", "U10", "R14", "D1", "L1", "U8", "D7", "L13", "R5", "L7", "D5", "L3", "U15", "R8", "L9", "D14", "R14", "L12", "D7", "L15", "D14", "U12", "L7", "R11", "L10", "D8", "L7", "R14", "L11", "U1", "R9", "U13", "R14", "D6", "U1", "L4", "R12", "L2", "U12", "L12", "D13", "U13", "R12", "U5", "R9", "U4", "D13", "L7", "D4", "U16", "D11", "U16", "R12", "U10", "R14", "L1", "U12", "R4", "U7", "R10", "D14", "R9", "D9", "L8", "R11", "L7", "U5", "R15", "U1", "D12", "U5", "D11", "U5", "D11", "L13", "R6", "D10", "U1", "L5", "U11", "L4", "U14", "L15", "R14", "L4", "D13", "L11", "D1", "U12", "D2", "L13", "D10", "L8", "U15", "R3", "U5", "R13", "L11", "U12", "L14", "R10", "D15", "R2", "U6", "D15", "U11", "D9", "U10", "R16", "U16", "D6", "R2", "L4", "D15", "L8", "U8", "L14", "D8", "U4", "R2", "D4", "U11", "R9", "L15", "U5", "L15", "D12", "R9", "U3", "R7", "D14", "U6", "R11", "L16", "D5", "R15", "D6", "U5", "L13", "U5", "R4", "U11", "R13", "D7", "R7", "U12", "R13", "U1", "L5", "D6", "R8", "U14", "R6", "D16", "R8", "D6", "R5", "U6", "D2", "U4", "R5", "D17", "L3", "D1", "R9", "U6", "R13", "L3", "D15", "L9", "D4", "R6", "D13", "U11", "D2", "U10", "L11", "D4", "U17", "R12", "D12", "R7", "D10", "U7", "R3", "L5", "D5", "R3", "D3", "U6", "D6", "U17", "L16", "D3", "R14", "D5", "U12", "L13", "U7", "D5", "R17", "L7", "D12", "U9", "D15", "L2", "R13", "L14", "D1", "L3", "U17", "R9", "U4", "L14", "R8", "D15", "L11", "U15", "L9", "U4", "L10", "U13", "D12", "U9", "L8", "R12", "U5", "D13", "U10", "R13", "U1", "L14", "D10", "U10", "R3", "D7", "R5", "D10", "R6", "U1", "D1", "R3", "L16", "D4", "U13", "D17", "L5", "R14", "U3", "R12", "U5", "D2", "U9", "R11", "D13", "L6", "U3", "R17", "L11", "R17", "L13", "U2", "R17", "U9", "L3", "R16", "D1", "U13", "D3", "R7", "L9", "R16", "D17", "L3", "U3", "R7", "L15", "U3", "R6", "L11", "R11", "D2", "U1", "L4", "D6", "L15", "R9", "D14", "U1", "L1", "U10", "L18", "D4", "R12", "L14", "R11", "D14", "L15", "U17", "L6", "U11", "D14", "U1", "L9", "D8", "U6", "L18", "R2", "D4", "L1", "D13", "L17", "U6", "L18", "U16", "R1", "U8", "R8", "L17", "D13", "U18", "R5", "U6", "R14", "D4", "U16", "L18", "U6", "R18", "L3", "U12", "R2", "D9", "U6", "R11", "L2", "D11", "U11", "D16", "L17", "U18", "D7", "R12", "D2", "L9", "R4", "L3", "R3", "U17", "L15", "R12", "U16", "L12", "U2", "L8", "D3", "L10", "U11", "L2", "D18", "R1", "D2", "R5", "D9", "L15", "D8", "L18", "D7", "L16", "R2", "U17", "L14", "R11", "D2", "U12", "L5", "D6", "R17", "L7", "U10", "R1", "L17", "R12", "U2", "D4", "U13", "D11", "U16", "L4", "R10", "U3", "R14", "U16", "L15", "U10", "L12", "U19", "L19", "R15", "L3", "U6", "R19", "L14", "R4", "L6", "R5", "L17", "U15", "L6", "D11", "U7", "L2", "R8", "U8", "R16", "L4", "U19", "D9", "L15", "D15", "L16", "D15", "L9", "R5", "L10", "U4", "R15", "U1", "D4", "U18", "R18", "L1", "U18", "R8", "L11", "R12", "U3", "R16", "D17", "R2", "L18", "D9", "R5", "U13", "R12", "U5", "R6", "U18", "R5", "D1", "L8", "D6", "L16", "D19", "L16", "R10", "L9", "U17", "D19", "R6", "D15", "R4", "U19", "D16", "R13", "U5", "R10", "U16", "D4", "U19", "R17", "L11", "U4", "L1", "U9", "R16", "L6", "U12", "D9", "L9", "R3", "U15", "R18", "D4", "U19", "R8", "L3", "U5", "D18", "R18", "D17", "L18", "R15", "U12" };
            int[,] tailGrid = new int[10000, 10000];
            int rowPosHead = 4999;
            int colPosHead = 4999;
            int rowPosTail1 = 4999;
            int colPosTail1 = 4999;
            int rowPosTail2 = 4999;
            int colPosTail2 = 4999;
            int rowPosTail3 = 4999;
            int colPosTail3 = 4999;
            int rowPosTail4 = 4999;
            int colPosTail4 = 4999;
            int rowPosTail5 = 4999;
            int colPosTail5 = 4999;
            int rowPosTail6 = 4999;
            int colPosTail6 = 4999;
            int rowPosTail7 = 4999;
            int colPosTail7 = 4999;
            int rowPosTail8 = 4999;
            int colPosTail8 = 4999;
            int rowPosTail9 = 4999;
            int colPosTail9 = 4999;


            int totalUniqeTailPos = 0;


            for (int k = 0; k < instructions.Length; k++)
            {
                char headDirection = instructions[k][0];
                int steps = Convert.ToInt32(instructions[k].Substring(1));


                for (int i = 0; i < steps; i++)
                {
                    switch (headDirection)
                    {
                        case 'U':
                            rowPosHead--;
                            break;
                        case 'R':
                            colPosHead++;
                            break;
                        case 'D':
                            rowPosHead++;
                            break;
                        case 'L':
                            colPosHead--;
                            break;
                    }

                    int[] coordinats = RopeTracker(rowPosHead, colPosHead, rowPosTail1, colPosTail1);
                    rowPosTail1 = coordinats[0];
                    colPosTail1 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail1, colPosTail1, rowPosTail2, colPosTail2);
                    rowPosTail2 = coordinats[0];
                    colPosTail2 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail2, colPosTail2, rowPosTail3, colPosTail3);
                    rowPosTail3 = coordinats[0];
                    colPosTail3 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail3, colPosTail3, rowPosTail4, colPosTail4);
                    rowPosTail4 = coordinats[0];
                    colPosTail4 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail4, colPosTail4, rowPosTail5, colPosTail5);
                    rowPosTail5 = coordinats[0];
                    colPosTail5 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail5, colPosTail5, rowPosTail6, colPosTail6);
                    rowPosTail6 = coordinats[0];
                    colPosTail6 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail6, colPosTail6, rowPosTail7, colPosTail7);
                    rowPosTail7 = coordinats[0];
                    colPosTail7 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail7, colPosTail7, rowPosTail8, colPosTail8);
                    rowPosTail8 = coordinats[0];
                    colPosTail8 = coordinats[1];

                    coordinats = RopeTracker(rowPosTail8, colPosTail8, rowPosTail9, colPosTail9);
                    rowPosTail9 = coordinats[0];
                    colPosTail9 = coordinats[1];



                    tailGrid[rowPosTail9, colPosTail9] = 1;
                }
            }

            // count the positions
            for (int row = 0; row < tailGrid.GetLength(0); row++)
            {
                for (int col = 0; col < tailGrid.GetLength(1); col++)
                {
                    if (tailGrid[row, col] == 1)
                    {
                        totalUniqeTailPos++;
                    }
                }
            }

            Console.WriteLine(totalUniqeTailPos);
            // its 2562
        }
        public static int[] RopeTracker(int leadRow, int leadCol, int tailRow, int tailCol)
        {

            int rowPosLead = leadRow;
            int colPosLead = leadCol;
            int rowPosTail = tailRow;
            int colPosTail = tailCol;


            if (rowPosLead == rowPosTail || colPosLead == colPosTail)
            {
                if (colPosLead < colPosTail - 1)
                {
                    colPosTail--;
                }
                else if (colPosLead > colPosTail + 1)
                {
                    colPosTail++;
                }
                else if (rowPosLead < rowPosTail - 1)
                {
                    rowPosTail--;
                }
                else if (rowPosLead > rowPosTail + 1)
                {
                    rowPosTail++;
                }
            }
            else
            {
                if (rowPosLead < rowPosTail - 1)
                {
                    rowPosTail--;
                    if (colPosLead < colPosTail)
                    {
                        colPosTail--;
                    }
                    else
                    {
                        colPosTail++;
                    }
                }
                else if (rowPosLead > rowPosTail + 1)
                {
                    rowPosTail++;
                    if (colPosLead < colPosTail)
                    {
                        colPosTail--;
                    }
                    else
                    {
                        colPosTail++;
                    }
                }
                else if (colPosLead < colPosTail - 1)
                {
                    colPosTail--;
                    if (rowPosLead < rowPosTail)
                    {
                        rowPosTail--;
                    }
                    else
                    {
                        rowPosTail++;
                    }
                }
                else if (colPosLead > colPosTail + 1)
                {
                    colPosTail++;
                    if (rowPosLead < rowPosTail)
                    {
                        rowPosTail--;
                    }
                    else
                    {
                        rowPosTail++;
                    }
                }
            }

            int[] coordinats = { rowPosTail, colPosTail };
            return coordinats;


        }
    }
}
